<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src\site\xdoc/session.xml at 06 December 2020
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="The MyBatis Team" />
    <meta name="date" content="$Date$" />
    <title>MyBatis Scala - Core APIs &#x2013; MyBatis Scala API > Session</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>mybatis-scala-core</h2>
</div>
</div>
          <div class="pull-right"><a href="../../" id="bannerRight" title="MyBatis logo"><img src="../../images/mybatis-logo.png"  alt="MyBatis logo"/></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 06 December 2020<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.2.0</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Reference Documentation</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="configuration.html" title="Configuration"><span class="none"></span>Configuration</a></li>
    <li><a href="mapping.html" title="Mapping"><span class="none"></span>Mapping</a></li>
    <li class="active"><a href="#"><span class="none"></span>Session</a></li>
    <li><a href="cache.html" title="Cache"><span class="none"></span>Cache</a></li>
    <li><a href="scaladocs/index.html#org.mybatis.scala.mapping.package" title="API Docs"><span class="none"></span>API Docs</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >


  
    <section>
<h2><a name="Session"></a>Session</h2>
      
<p>
          The <code>org.mybatis.scala.session</code> package provides service classes to execute your mapped statements
          against a database connection.
        </p>
        
<p>
          The main class in this package is SessionManager which its instances are provided by the configuration
          object. You should have only one instance of the SessionManager in your application. Just like
          SqlSessionFactory. This class is disconnected, it only create connections when you call a connected method.
        </p>

        <section>
<h3><a name="readOnly"></a>readOnly</h3>
        
<p>
          This method opens a connection, executes a code block, calls rollback and close.
        </p>
          
<div class="source"><pre class="prettyprint">manager.readOnly { implicit session =&gt;

    val list = findUsers(&quot;a%&quot;)
    for (user &lt;- list) {
        // Do something with user
    }

}</pre></div>
        </section>

        <section>
<h3><a name="transaction"></a>transaction</h3>
        
<p>
          This method opens a connection, executes a code block, and calls commit if no exceptions are thrown,
          else calls rollback, then close.
        </p>
          
<div class="source"><pre class="prettyprint">manager.transaction { implicit session =&gt;

    val user = new User
    user.name = &quot;John&quot;
    user.username = &quot;john1&quot;
    user.password = &quot;12345&quot;

    insertNewUser(user)

}</pre></div>
      </section>

      <section>
<h3><a name="managed"></a>managed</h3>
        
<p>
          This method opens a connection, executes a code block and closes the connection. The Transaction lifecycle
          must be managed externally by the container or manually by the developer.
          </p>
<div class="source"><pre class="prettyprint">manager.managed { implicit session =&gt;

    val user = new User
    user.name = &quot;John&quot;
    user.username = &quot;john1&quot;
    user.password = &quot;12345&quot;

    insertNewUser(user)

}</pre></div>
        
      </section>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &#169;      2011&#x2013;2020<a href="https://www.mybatis.org/">MyBatis.org</a>.
.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
