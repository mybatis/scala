<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Jan 19, 2014 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="The MyBatis Team" />
    <meta name="Date-Revision-yyyymmdd" content="20140119" />
    <meta http-equiv="Content-Language" content="en" />
    <title>
    MyBatis Scala API > Session</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MyBatis Scala API Core</h2>
                </div>
                      </div>
        <div class="pull-right">                                <a href="../../" id="bannerRight" title="MyBatis logo">
                                                                                        <img src="http://mybatis.github.io/images/mybatis-logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 19 January 2014
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0.2
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Reference Documentation</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="configuration.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="mapping.html" title="Mapping">
          <i class="none"></i>
        Mapping</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Session</a>
          </li>
                
      <li>
  
                          <a href="cache.html" title="Cache">
          <i class="none"></i>
        Cache</a>
            </li>
                
      <li>
  
                          <a href="scaladocs/index.html#org.mybatis.scala.mapping.package" title="API Docs">
          <i class="none"></i>
        API Docs</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                  
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- Copyright 2010-2011 The myBatis Team

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. --><!-- version: $Id$ -->

  
    <div class="section"><h2>Session<a name="Session"></a></h2>
      <p>
          The <tt>org.mybatis.scala.session</tt> package provides service classes to execute your mapped statements
          against a database connection.
        </p>
        <p>
          The main class in this package is SessionManager which its instances are provided by the configuration
          object. You should have only one instance of the SessionManager in your application. Just like
          SqlSessionFactory. This class is disconnected, it only create connections when you call a connected method.
        </p>

        <div class="section"><h3>readOnly<a name="readOnly"></a></h3>
        <p>
          This method opens a connection, executes a code block, calls rollback and close.
        </p>
          <div class="source"><pre class="prettyprint">manager.readOnly { implicit session =&gt;

    val list = findUsers(&quot;a%&quot;)
    for (user &lt;- list) {
        // Do something with user
    }

}</pre></div>
        </div>

        <div class="section"><h3>transaction<a name="transaction"></a></h3>
        <p>
          This method opens a connection, executes a code block, and calls commit if no exceptions are thrown,
          else calls rollback, then close.
        </p>
          <div class="source"><pre class="prettyprint">manager.transaction { implicit session =&gt;

    val user = new User
    user.name = &quot;John&quot;
    user.username = &quot;john1&quot;
    user.password = &quot;12345&quot;

    insertNewUser(user)

}</pre></div>
      </div>

      <div class="section"><h3>managed<a name="managed"></a></h3>
        <p>
          This method opens a connection, executes a code block and closes the connection. The Transaction lifecycle
          must be managed externally by the container or manually by the developer.
          </p><div class="source"><pre class="prettyprint">manager.managed { implicit session =&gt;

    val user = new User
    user.name = &quot;John&quot;
    user.username = &quot;john1&quot;
    user.password = &quot;12345&quot;

    insertNewUser(user)

}</pre></div>
        
      </div>
    </div>
  

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2010&#x2013;2014
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
